<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />

    <!-- jQuery -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>

    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/8.1.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.1.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.1.1/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.1.1/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.1.1/firebase-functions.js"></script>

    <!-- Firechat -->
    <link
      rel="stylesheet"
      href="https://cdn.firebase.com/libs/firechat/3.0.1/firechat.min.css"
    />
    <script src="https://cdn.firebase.com/libs/firechat/3.0.1/firechat.min.js"></script>

    <!-- vue -->
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.12/dist/vue.js"></script>

    <!-- bootstrap -->
    <script src="https://unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue.js"></script>

    <!-- Custom CSS -->
    <style>
      #firechat-wrapper {
        height: 475px;
        max-width: 325px;
        padding: 10px;
        border: 1px solid #ccc;
        background-color: #fff;
        margin: 50px auto;
        text-align: center;
        -webkit-border-radius: 4px;
        -moz-border-radius: 4px;
        border-radius: 4px;
        -webkit-box-shadow: 0 5px 25px #666;
        -moz-box-shadow: 0 5px 25px #666;
        box-shadow: 0 5px 25px #666;
      }
    </style>
  </head>

  <!--
    Example: Anonymous Authentication

    This example uses Firebase Simple Login to create "anonymous" user sessions in Firebase,
    meaning that user credentials are not required, though a user has a valid Firebase
    authentication token and security rules still apply.

    Requirements: in order to use this example with your own Firebase, you'll need to do the following:
      1. Apply the security rules at https://github.com/firebase/firechat/blob/master/rules.json
      2. Enable the "Anonymous" authentication provider in Forge
      3. Update the URL below to reference your Firebase
      4. Update the room id for auto-entry with a public room you have created
   -->
  <body>
    <div id="firechat-wrapper"></div>
    <script type="text/javascript">
      // Initialize Firebase SDK
      var firebaseConfig = {
        apiKey: "AIzaSyB_UfOy9uRdArhuIq4DaqFhWeX-pgSJHP8",
        authDomain: "cgcaci21.firebaseapp.com",
        databaseURL: "https://cgcaci21.firebaseio.com",
        projectId: "cgcaci21",
        storageBucket: "cgcaci21.appspot.com",
        messagingSenderId: "595065889262",
        appId: "1:595065889262:web:2c2908a1d24b63e5b56eff",
        measurementId: "G-PQEQSVG6TJ",
      };
      firebase.initializeApp(firebaseConfig);
      let customer = 'test';
      let room_type = 'library';
      // Get a reference to the Firebase Realtime Database
      var chatRef = firebase.database().ref('firechat');
      // Create an instance of Firechat
      var chat = new FirechatUI(
        chatRef,
        document.getElementById("firechat-wrapper")
      );

      // Listen for authentication state changes
      firebase.auth().onAuthStateChanged(function (user) {
        if (user) {
          // If the user is logged in, set them as the Firechat user
          chat.setUser(user.uid, "Anonymous" + user.uid.substr(10, 8));
        } 
      });
    </script>
    <script src="https://eventfinity-production-assets.s3.amazonaws.com/materials/771501/original/gamification_main.js"></script>
  </body>
</html>
